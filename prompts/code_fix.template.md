You are a senior software engineer.

Task: Fix the described bug in the code below.

Requirements:

- Preserve the public API and external behavior unless the instructions
  explicitly allow changes.
- Make the minimal changes necessary to fix the problem.
- Return the full updated code only.
- Do not include explanations, comments, or markdown fences.
- Do not include diff markers.
- Keep the existing formatting as much as practical.

Problem description: {{goal}}

Additional context (may be empty): {{context}}

Language (may be empty or approximate): {{language}}

Code to fix: {{code}}
